<!DOCTYPE html lang="en">
  <head>
    <title>CSSCrusaders Project</title>
    <link rel="stylesheet" type="text/css" href="/public/styles.css" />
    <link rel="shortcut icon" type="image/x-icon" href="/public/favicon.ico" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>

  <body onload="welcome();">
  <div style="display:flex" class="title">
    <div style="flex: 70%;">
      <h2>CSE312 CSSCrusaders Project</h2>
    </div>
    <div style="display:flex; flex-direction: column; flex: 30%">
      <div style="display: flex;">
        <div style="align-self: center;">
          <p id="username-form">Your username: {{user}}</p>
        </div>
        <div style="display: flex;">
          <form style="align-self: center; margin-left: 5px; margin-bottom: 0px;"
            action="/logout"
            method="post"
            enctype="application/x-www-form-urlencoded">
            <input type="submit" value="Log Out" />
          </form>
        </div>
      </div>
      <div>
        <form style="display: flex; flex-direction:row" action="/file-upload" id="image-message" method="post" enctype="multipart/form-data">
          <label for="upload-file">Upload a video or image: </label>
          <input id="upload-file" type="file" name="file">
          <input type="submit" value="Send">
        </form>
      </div>
    </div>
  </div>

  <div class="header">
    <div class="main-div">
      <div class="image_div">
        <img src="/public/image/readme.jpg" alt="SQUIDWARD" class="squidward" />
      </div>
        <p id="post-title"></p>
        <div class="posts border-gradient">
          {% for post in posts %}
            <div class="list-posts" data-post-id="{{ post.post_id }}" data-username="{{ post.username }}">
                  <img src="{{ post.image }}" alt="Profile Picture" width="50" height="50">
                {{ post.username + ': ' + post.content }}
                <div class="post-likes">
                    <span class="material-icons">thumb_up</span>
                    <span class="like-count">{{ initial_like_counts.get(post.post_id, 0) }}</span>
                </div>
            </div>
          {% endfor %}
          <div class="post-form">
              <hr>
              <form name=form onsubmit="sendChat()">
              <!--<form action="/chat-messages" method="post">-->
                <input placeholder="Write your post here..." id="post-text-box" type="text" name='post'>
                <div class="post-button">
                  <input type="submit" value="Post">
                </div>
              </form>
          </div>
        </div>
    </div>
  </div>
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO" crossorigin="anonymous"></script>
<script src="/public/app.js"></script>
</body>
</html>
